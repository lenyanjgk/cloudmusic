# 韵动轨迹小程序

## 项目概述

韵动轨迹小程序是一个基于微信小程序平台开发的音乐播放应用，提供音乐播放、歌单管理、排行榜浏览等功能，同时集成了运动模式，可在运动时提供定制化的音乐体验。该项目使用微信小程序框架和云开发技术，实现了丰富的音乐相关功能和良好的用户体验。

## 功能特点

- **音乐播放**：支持在线音乐播放、暂停、上一曲、下一曲、进度调整等功能
- **歌词显示**：支持同步显示歌词，增强音乐体验
- **歌单管理**：浏览推荐歌单、个人歌单，查看歌单详情
- **排行榜**：浏览音乐排行榜，了解热门音乐
- **运动模式**：为运动场景定制的音乐播放功能，支持设置运动时间
- **个性化推荐**：根据用户喜好推荐音乐和歌单
- **专辑详情**：查看音乐专辑信息
- **用户中心**：管理个人信息和应用设置

## 技术架构

### 前端技术

- 微信小程序框架
- WXML/WXSS (微信小程序的HTML/CSS变体)
- JavaScript (ES6)

### 后端技术

- 微信云开发 (Cloud Functions)
- 云数据库
- RESTful API

### 核心工具

- **nt.js**：自定义通知系统，实现组件间通信
- **util.js**：通用工具函数库，提供格式化、数据处理等功能
- **bsurl.js**：API请求地址配置
- **async.js**：异步操作处理库

## 文件结构

```
cloudmusic/
├── cloudfunctions/       # 云函数目录
│   └── wxqd/             # 微信签到云函数
├── page/                 # 页面组件目录
│   └── component/        # 页面组件
│       ├── about/        # "我的"页面组件
│       ├── album/        # 专辑详情页面组件
│       ├── detail/       # 详情页面组件
│       ├── home/         # 首页("聆听音乐")组件
│       ├── index/        # 运动模式页面组件
│       ├── playing/      # 音乐播放页面组件
│       ├── playlist/     # 歌单页面组件
│       ├── setting/      # 运动时间设置页面组件
│       ├── start/        # 应用启动页面组件
│       ├── text/         # 文本展示页面组件
│       └── toplist/      # 排行榜页面组件
├── utils/                # 工具函数目录
│   ├── nt.js             # 通知系统
│   ├── util.js           # 通用工具函数
│   ├── bsurl.js          # API地址配置
│   └── ...               # 其他工具文件
├── image/                # 图片资源目录
├── app.js                # 应用程序逻辑
├── app.json              # 应用程序配置
└── app.wxss              # 应用程序样式
```

## 安装与配置

### 环境要求

- 微信开发者工具
- Node.js 环境 (用于云函数开发)
- 微信云开发账号

### 安装步骤

1. 克隆仓库到本地
   ```
   git clone [仓库地址]
   ```

2. 打开微信开发者工具，导入项目

3. 在微信开发者工具中，点击"云开发"按钮，开通云开发服务

4. 配置云环境ID
   - 在app.js中设置环境ID
   - 在cloud.init()中配置cloudEnv

5. 上传并部署云函数
   - 在微信开发者工具中，右键点击cloudfunctions目录下的wxqd函数
   - 选择"上传并部署：云端安装依赖"

6. 配置API地址
   - 修改utils/bsurl.js中的API地址为您的服务器地址

## 使用指南

### 首页 - 聆听音乐

首页展示推荐歌单、排行榜和个性化推荐，用户可以：
- 浏览并点击歌单，进入歌单详情页
- 查看排行榜，了解热门音乐
- 探索个性化推荐的音乐内容

### 音乐播放

播放页面提供丰富的音乐控制功能：
- 播放/暂停音乐
- 上一曲/下一曲切换
- 进度条调整播放进度
- 查看歌词
- 切换播放模式（顺序播放、单曲循环、随机播放）

### 歌单管理

歌单页面展示歌单详情和歌曲列表：
- 查看歌单信息（标题、封面、描述等）
- 浏览歌单中的歌曲列表
- 点击歌曲播放
- 查看歌单评论

### 运动模式

运动模式为运动场景定制音乐体验：
- 设置运动时间和类型
- 根据运动节奏推荐音乐
- 在运动过程中提供适合的音乐播放

## 开发指南

### 添加新页面

1. 在page/component下创建新的目录
2. 添加index.js、index.wxml、index.wxss、index.json文件
3. 在app.json的pages数组中注册新页面路径
4. 如需添加到导航栏，在app.json的tabBar.list中配置

### 修改API接口

1. 修改utils/bsurl.js中的API基础URL
2. 在相应页面的JS文件中修改API请求路径和参数

### 扩展功能

开发新功能时，请遵循以下原则：
1. 遵循现有代码风格和架构
2. 利用utils目录中的工具函数
3. 使用nt.js提供的通知机制实现组件间通信
4. 共享数据优先使用app.globalData

## 贡献指南

我们欢迎任何形式的贡献，包括但不限于：
- 功能改进与新功能开发
- Bug修复
- 文档完善
- 性能优化

### 贡献流程

1. Fork本仓库
2. 创建特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建Pull Request

## 许可证

本项目采用MIT许可证，详见LICENSE文件。
